<div class="container mx-auto p-6 min-h-screen">
  <h1 class="text-3xl font-bold text-white mb-2">Achievements</h1>
  <p class="text-gray-400 mb-8">Unlock badges by completing challenges!</p>

  @if (isLoading()) {
    <div class="text-white text-center mt-10">
      Loading achievements...
    </div>
  } @else {
    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 animate-fade-in">

      @for (item of badgeList; track item.badge.id) {

        <div class="relative p-6 rounded-xl border flex flex-col items-center text-center transition-all duration-300 hover:scale-105 group"
             [ngClass]="item.isUnlocked
                ? 'bg-[#1a1627] border-purple-500 shadow-lg shadow-purple-500/20'
                : 'bg-gray-900 border-gray-800 opacity-60 grayscale'">

          <div class="w-24 h-24 mb-4 flex items-center justify-center">
            <img [src]="item.badge.iconUrl" alt="Badge" class="w-20 h-20 object-contain drop-shadow-md transition-transform group-hover:scale-110"
                 onerror="this.src='assets/badges/default.png'">
          </div>

          <h3 class="text-lg font-bold text-white mb-1">{{ item.badge.name }}</h3>
          <p class="text-xs text-gray-400 mb-4 h-10 overflow-hidden line-clamp-2">{{ item.badge.description }}</p>

          <div class="mt-auto flex flex-col gap-1 w-full">
            <span class="text-xs font-bold text-yellow-500 flex items-center justify-center gap-1">
              +{{ item.badge.pointsReward }} XP
            </span>
            <div class="py-1 rounded text-xs font-bold uppercase tracking-wider w-full border"
                 [ngClass]="item.isUnlocked
                    ? 'bg-green-500/20 text-green-400 border-green-500/30'
                    : 'bg-gray-800 text-gray-500 border-gray-700'">
              {{ item.isUnlocked ? 'Unlocked' : 'Locked' }}
            </div>
          </div>

        </div>
      }
    </div>
  }
</div>
